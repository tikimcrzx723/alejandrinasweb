// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.960
package views

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import "github.com/tikimcrzx723/alejandrinasweb/internal/dtos"
import "github.com/tikimcrzx723/alejandrinasweb/internal/api"
import "context"

func RegisterProduct(title string, csrfToken string, products dtos.ProductResponse) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var2 := templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
			templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
			if !templ_7745c5c3_IsBuffer {
				defer func() {
					templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err == nil {
						templ_7745c5c3_Err = templ_7745c5c3_BufErr
					}
				}()
			}
			ctx = templ.InitializeContext(ctx)
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div class=\"container-fluid p-4 p-lg-5\"><!-- Page Header --><div class=\"d-flex justify-content-between align-items-center mb-4 mb-lg-5\"><div><h1 class=\"h3 mb-0\">Administrar Productos</h1><p class=\"text-muted mb-0\">Administra tu cat√°logo de productos y tu inventario.</p></div><div class=\"d-flex gap-2\"><button type=\"button\" class=\"btn btn-primary\" data-bs-toggle=\"modal\" data-bs-target=\"#productModal\" onclick=\"openCreateProductModal()\"><i class=\"bi bi-plus-lg me-2\"></i>Agregar Producto</button></div></div><!-- Product Management Container --><div><!-- Product Stats Widgets --><div class=\"row g-4 g-lg-5 mb-5\"><div class=\"col-xl-3 col-lg-6\"><div class=\"card stats-card\"><div class=\"card-body p-3 p-lg-4\"><div class=\"d-flex align-items-center\"><div class=\"stats-icon bg-primary bg-opacity-10 text-primary me-3\"><i class=\"bi bi-box\"></i></div><div><h3 class=\"mb-0 text-muted\">Total de Productos</h3><h3 class=\"mb-0\" x-text=\"stats.total\"></h3><h2 class=\"text-success\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var3 string
			templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(products.Meta.Total)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/registerProduct.templ`, Line: 39, Col: 64}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, " ")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if products.Meta.Total > 1 {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "Productos")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			} else {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "Producto")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "</h2></div></div></div></div></div><div class=\"col-xl-3 col-lg-6\"><div class=\"card stats-card\"><div class=\"card-body p-3 p-lg-4\"><div class=\"d-flex align-items-center\"><div class=\"stats-icon bg-success bg-opacity-10 text-success me-3\"><i class=\"bi bi-check-circle\"></i></div><div><h6 class=\"mb-0 text-muted\">In Stock</h6><h3 class=\"mb-0\" x-text=\"stats.inStock\"></h3><small class=\"text-success\"><i class=\"bi bi-arrow-up\"></i> Well stocked</small></div></div></div></div></div><div class=\"col-xl-3 col-lg-6\"><div class=\"card stats-card\"><div class=\"card-body p-3 p-lg-4\"><div class=\"d-flex align-items-center\"><div class=\"stats-icon bg-warning bg-opacity-10 text-warning me-3\"><i class=\"bi bi-exclamation-triangle\"></i></div><div><h6 class=\"mb-0 text-muted\">Low Stock</h6><h3 class=\"mb-0\" x-text=\"stats.lowStock\"></h3><small class=\"text-warning\"><i class=\"bi bi-exclamation-circle\"></i> Needs attention</small></div></div></div></div></div><div class=\"col-xl-3 col-lg-6\"><div class=\"card stats-card\"><div class=\"card-body p-3 p-lg-4\"><div class=\"d-flex align-items-center\"><div class=\"stats-icon bg-info bg-opacity-10 text-info me-3\"><i class=\"bi bi-currency-dollar\"></i></div><div><h6 class=\"mb-0 text-muted\">Total Value</h6><h3 class=\"mb-0\" x-text=\"`$${stats.totalValue.toLocaleString()}`\"></h3><small class=\"text-info\"><i class=\"bi bi-info-circle\"></i> Inventory value</small></div></div></div></div></div></div><!-- Products Table --><div class=\"card\"><div class=\"card-header\"><div class=\"row align-items-center\"><div class=\"col\"><h5 class=\"card-title mb-0\">Catalogo de Productos</h5></div><div class=\"col-auto\"><div class=\"d-flex gap-2\"><!-- Search --><div class=\"position-relative\"><input type=\"search\" class=\"form-control form-control-sm\" placeholder=\"Buscar Productos...\" x-model=\"searchQuery\" @input=\"filterProducts()\" style=\"width: 200px;\"> <i class=\"bi bi-search position-absolute top-50 end-0 translate-middle-y me-2 text-muted\"></i></div><!-- Category Filter --><select class=\"form-select form-select-sm\"><option value=\"\">Todas las Categorias</option> ")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			for id, category := range getAllCategories() {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "<option value=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var4 string
				templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(id)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/registerProduct.templ`, Line: 131, Col: 61}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var5 string
				templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs(category)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/registerProduct.templ`, Line: 131, Col: 72}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "</option>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, "</select><!-- Stock Filter --><select class=\"form-select form-select-sm\"><option value=\"\">Todo</option> <option value=\"in-stock\">Disponible</option> <option value=\"low-stock\">Bajo</option> <option value=\"out-of-stock\">Fuera</option></select></div></div></div></div><div class=\"card-body p-0\"><!-- Bulk Actions Bar --><!-- Table --><div class=\"table-responsive\"><table class=\"table table-hover mb-0\"><thead class=\"table-light\"><tr><th>Producto</th><th @click=\"sortBy('category')\" class=\"sortable\">Categoria</th><th @click=\"sortBy('price')\" class=\"sortable\">Precio</th><th @click=\"sortBy('stock')\" class=\"sortable\">Stock</th><th>Status</th><th style=\"width: 120px;\">Acciones</th></tr></thead> <tbody>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			for _, product := range products.Product {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 10, "<tr><td><div class=\"d-flex align-items-center\"><img src=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var6 string
				templ_7745c5c3_Var6, templ_7745c5c3_Err = templ.JoinStringErrs(product.Images[0].URL)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/registerProduct.templ`, Line: 168, Col: 83}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var6))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 11, "\" width=\"128\"><div><h3>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var7 string
				templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs(product.Name)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/registerProduct.templ`, Line: 170, Col: 73}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 12, "</h3></div></div></td><td><span class=\"badge bg-light text-dark\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var8 string
				templ_7745c5c3_Var8, templ_7745c5c3_Err = templ.JoinStringErrs(product.Category.Name)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/registerProduct.templ`, Line: 175, Col: 109}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var8))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 13, "</span></td><td>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var9 string
				templ_7745c5c3_Var9, templ_7745c5c3_Err = templ.JoinStringErrs(product.Price)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/registerProduct.templ`, Line: 177, Col: 62}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var9))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 14, "</td><td><span class=\"badge stock-badge\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var10 string
				templ_7745c5c3_Var10, templ_7745c5c3_Err = templ.JoinStringErrs(product.Stock)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/registerProduct.templ`, Line: 179, Col: 95}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var10))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 15, "</span></td><td>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				if product.IsActive {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 16, "<span class=\"badge bg-success\">Disponible</span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				} else {
					templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 17, "<span class=\"badge bg-warning\">No Disponible</span>")
					if templ_7745c5c3_Err != nil {
						return templ_7745c5c3_Err
					}
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 18, "</td><td><div class=\"dropdown\"><button class=\"btn btn-sm btn-outline-secondary dropdown-toggle\" type=\"button\" data-bs-toggle=\"dropdown\"><i class=\"bi bi-three-dots\"></i></button><ul class=\"dropdown-menu\"><li><button type=\"button\" class=\"dropdown-item\" data-bs-toggle=\"modal\" data-bs-target=\"#productModal\" data-sku=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var11 string
				templ_7745c5c3_Var11, templ_7745c5c3_Err = templ.JoinStringErrs(product.SKU)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/registerProduct.templ`, Line: 202, Col: 85}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var11))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 19, "\" data-name=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var12 string
				templ_7745c5c3_Var12, templ_7745c5c3_Err = templ.JoinStringErrs(product.Name)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/registerProduct.templ`, Line: 203, Col: 87}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var12))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 20, "\" data-category-id=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var13 string
				templ_7745c5c3_Var13, templ_7745c5c3_Err = templ.JoinStringErrs(product.CategoryID)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/registerProduct.templ`, Line: 204, Col: 100}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var13))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 21, "\" data-price=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var14 string
				templ_7745c5c3_Var14, templ_7745c5c3_Err = templ.JoinStringErrs(product.Price)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/registerProduct.templ`, Line: 205, Col: 89}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var14))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 22, "\" data-id=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var15 string
				templ_7745c5c3_Var15, templ_7745c5c3_Err = templ.JoinStringErrs(product.ID)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/registerProduct.templ`, Line: 206, Col: 83}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var15))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 23, "\" data-stock=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var16 string
				templ_7745c5c3_Var16, templ_7745c5c3_Err = templ.JoinStringErrs(product.Stock)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/registerProduct.templ`, Line: 207, Col: 89}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var16))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 24, "\" data-description=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var17 string
				templ_7745c5c3_Var17, templ_7745c5c3_Err = templ.JoinStringErrs(product.Description)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/registerProduct.templ`, Line: 208, Col: 101}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var17))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 25, "\" onclick=\"openEditProductModal(this)\"><i class=\"bi bi-pencil me-2\"></i>Editar</button></li><li><hr class=\"dropdown-divider\"></li><li><a class=\"dropdown-item text-danger\" href=\"#\" @click=\"deleteProduct(product)\"><i class=\"bi bi-trash me-2\"></i>Delete</a></li></ul></div></td></tr>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 26, "</tbody></table></div><!-- Pagination --><div class=\"d-flex justify-content-between align-items-center p-3\"><div class=\"text-muted\">Showing <span x-text=\"(currentPage - 1) * itemsPerPage + 1\"></span> to  <span x-text=\"Math.min(currentPage * itemsPerPage, filteredProducts.length)\"></span> of  <span x-text=\"filteredProducts.length\"></span> results</div><nav><ul class=\"pagination pagination-sm mb-0\"><li class=\"page-item\" :class=\"{ 'disabled': currentPage === 1 }\"><a class=\"page-link\" href=\"#\" @click.prevent=\"goToPage(currentPage - 1)\">Previous</a></li><template x-for=\"(page, index) in visiblePages\" :key=\"`page-${index}`\"><li class=\"page-item\" :class=\"{ 'active': page === currentPage }\"><a class=\"page-link\" href=\"#\" @click.prevent=\"page !== '...' && goToPage(page)\" x-text=\"page\"></a></li></template><li class=\"page-item\" :class=\"{ 'disabled': currentPage === totalPages }\"><a class=\"page-link\" href=\"#\" @click.prevent=\"goToPage(currentPage + 1)\">Next</a></li></ul></nav></div></div></div></div><!-- End Product Management Container --></div><!-- Product Modal (Add/Edit) --> <div class=\"modal fade\" id=\"productModal\" tabindex=\"-1\"><div class=\"modal-dialog modal-lg\"><div class=\"modal-content\"><div class=\"modal-header\"><h5 class=\"modal-title\" id=\"productModalTitle\">Agregar Producto</h5><button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button></div><div class=\"modal-body\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = formProduct(csrfToken).Render(ctx, templ_7745c5c3_Buffer)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 27, "</div></div></div></div><script>\n            function openCreateProductModal() {\n                const modal = document.getElementById(\"productModal\");\n                const form = modal.querySelector(\"form\");\n                const title = modal.querySelector(\"#productModalTitle\");\n                const submit = form.querySelector(\"button[type='submit']\");\n                const previewsContainer = document.getElementById(\"imagePreviews\");\n                const skuInput = form.querySelector(\"input[name='product_sku']\");\n\n                form.action = \"/admin/product/register\";\n                form.reset();\n                if (skuInput) {\n                    skuInput.value = \"\";\n                }\n                if (previewsContainer) {\n                    previewsContainer.innerHTML = \"\";\n                }\n                title.textContent = \"Agregar Producto\";\n                submit.textContent = \"Guardar Producto\";\n            }\n\n            function openEditProductModal(button) {\n                const modal = document.getElementById(\"productModal\");\n                const form = modal.querySelector(\"form\");\n                const title = modal.querySelector(\"#productModalTitle\");\n                const submit = form.querySelector(\"button[type='submit']\");\n                const previewsContainer = document.getElementById(\"imagePreviews\");\n                const skuInput = form.querySelector(\"input[name='product_sku']\");\n\n                form.action = \"/admin/product/update\";\n                form.reset();\n                if (previewsContainer) {\n                    previewsContainer.innerHTML = \"\";\n                }\n\n                const {id, sku, name, categoryId, price, stock, description } = button.dataset;\n                form.elements[\"product_id\"].value = id || \"\";\n                form.elements[\"product_name\"].value = name || \"\";\n                form.elements[\"product_category\"].value = categoryId || \"\";\n                form.elements[\"product_price\"].value = price || \"\";\n                form.elements[\"product_stock\"].value = stock || \"\";\n                form.elements[\"product_description\"].value = description || \"\";\n                if (skuInput) {\n                    skuInput.value = sku || \"\";\n                }\n\n                title.textContent = \"Editar Producto\";\n                submit.textContent = \"Guardar Cambios\";\n            }\n\n            function showFiles(input) { \n                const previewsContainer = \n                    document.getElementById('imagePreviews'); \n                    \n                previewsContainer.innerHTML = ''; \n                const files = input.files; \n                for (let i = 0; i < files.length; i++) { \n                    const file = files[i]; \n                    const reader = new FileReader(); \n                    reader.onload = function (e) { \n                        const preview = document.createElement('div'); \n                        preview.classList.add('col-md-4', 'mb-3'); \n                        preview.innerHTML = ` \n                            <img src=\"${e.target.result}\" alt=\"Preview\" class=\"img-fluid rounded\"> \n                            <div class=\"text-center mt-2\"> \n                            <span class=\"badge bg-secondary\">${file.name}</span> \n                            </div> \n                        `; \n                        previewsContainer.appendChild(preview); \n                    }; \n                    reader.readAsDataURL(file); \n                } \n            } \n        </script>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			return nil
		})
		templ_7745c5c3_Err = adminBaseLayout(title).Render(templ.WithChildren(ctx, templ_7745c5c3_Var2), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func formProduct(csrfToken string) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var18 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var18 == nil {
			templ_7745c5c3_Var18 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 28, "<form method=\"post\" action=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var19 templ.SafeURL
		templ_7745c5c3_Var19, templ_7745c5c3_Err = templ.JoinURLErrs(templ.SafeURL("/admin/product/register"))
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/registerProduct.templ`, Line: 350, Col: 72}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var19))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 29, "\" enctype=\"multipart/form-data\"><input type=\"hidden\" name=\"gorilla.csrf.Token\" value=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var20 string
		templ_7745c5c3_Var20, templ_7745c5c3_Err = templ.JoinStringErrs(csrfToken)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/registerProduct.templ`, Line: 351, Col: 72}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var20))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 30, "\"> <input type=\"hidden\" name=\"product_id\"><div class=\"row g-3\"><div class=\"col-12\"><label for=\"product_name\" class=\"form-label\">Nombre del Product</label> <input id=\"product_name\" name=\"product_name\" type=\"text\" class=\"form-control\"></div><div class=\"col-md-12\"><label class=\"form-label\">Categoria</label> <select id=\"product_category\" name=\"product_category\" class=\"form-select\" required><option value=\"\">Selecionar Categoria</option> ")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		for id, category := range getAllCategories() {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 31, "<option value=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var21 string
			templ_7745c5c3_Var21, templ_7745c5c3_Err = templ.JoinStringErrs(id)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/registerProduct.templ`, Line: 363, Col: 37}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var21))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 32, "\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var22 string
			templ_7745c5c3_Var22, templ_7745c5c3_Err = templ.JoinStringErrs(category)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/registerProduct.templ`, Line: 363, Col: 48}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var22))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 33, "</option>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 34, "</select></div><div class=\"col-md-6\"><label for=\"product_price\" class=\"form-label\">Precio</label> <input id=\"product_price\" name=\"product_price\" type=\"number\" class=\"form-control\" x-model=\"form.price\" step=\"0.01\" required></div><div class=\"col-md-6\"><label for=\"product_stock\" class=\"form-label\">Cantidad disponible</label> <input id=\"product_stock\" name=\"product_stock\" type=\"number\" class=\"form-control\" x-model=\"form.stock\" required></div><div class=\"col-12\"><label for=\"product_description\" class=\"form-label\">Descripcion</label> <textarea id=\"product_description\" name=\"product_description\" class=\"form-control\" x-model=\"form.description\" rows=\"3\"></textarea></div><div class=\"col-12\"><label for=\"formFile\" class=\"form-label\">Default file input example</label> <input name=\"images\" class=\"form-control\" type=\"file\" id=\"formFile\" multiple onchange=\"showFiles(this)\"></div><div class=\"col-12\"><div class=\"row\" id=\"imagePreviews\"></div></div></div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button> <button type=\"submit\" class=\"btn btn-primary\">Save Product</button></div></form>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func getProduct(sku string) dtos.Product {
	product, err := api.GetProductBySKU(context.TODO(), "http://localhost:8080/api/v1/", sku)
	if err != nil {
		return dtos.Product{}
	}
	return product.Product
}

var _ = templruntime.GeneratedTemplate
